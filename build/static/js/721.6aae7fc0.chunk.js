"use strict";(self.webpackChunkinteractive_calendar_view=self.webpackChunkinteractive_calendar_view||[]).push([[721],{721:(e,t,s)=>{s.d(t,{EventModal:()=>c});var a=s(43),r=s(33),i=s(732),n=s(579);const l=e=>{let{isOpen:t,onClose:s,title:r,children:l,description:o}=e;const d=(0,a.useRef)(null);return(0,a.useEffect)(()=>{const e=e=>{"Escape"===e.key&&s()};var a;t&&(document.addEventListener("keydown",e),null===(a=d.current)||void 0===a||a.focus());return()=>{document.removeEventListener("keydown",e)}},[t,s]),t?(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 animate-fade-in",onClick:s,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":o?"modal-description":void 0,children:(0,n.jsxs)("div",{ref:d,className:"bg-white rounded-xl shadow-lg w-full max-w-md m-4 animate-slide-up",onClick:e=>e.stopPropagation(),tabIndex:-1,children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200",children:[(0,n.jsx)("h2",{id:"modal-title",className:"text-lg font-semibold text-neutral-900",children:r}),(0,n.jsx)("button",{onClick:s,className:"text-neutral-500 hover:text-neutral-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 rounded-full p-1","aria-label":"Close modal",children:(0,n.jsx)(i.uv,{className:"w-5 h-5"})})]}),(0,n.jsxs)("div",{className:"p-6",children:[o&&(0,n.jsx)("p",{id:"modal-description",className:"sr-only",children:o}),l]})]})}):null},o=["#2563eb","#047857","#d97706","#7c3aed","#dc2626","#be185d"],d=["Work","Personal","Meeting","Design","Holiday","Other"],c=e=>{let{isOpen:t,onClose:s,onSave:c,onUpdate:m,onDelete:u,event:x}=e;const[h,p]=(0,a.useState)(""),[v,f]=(0,a.useState)(""),[b,g]=(0,a.useState)(""),[j,y]=(0,a.useState)(""),[w,N]=(0,a.useState)(""),[k,D]=(0,a.useState)(""),[C,S]=(0,a.useState)(o[0]),[T,E]=(0,a.useState)(""),[O,I]=(0,a.useState)({});(0,a.useEffect)(()=>{if(x){if(p(x.title||""),f(x.description||""),S(x.color||o[0]),E(x.category||""),x.startDate){const e=new Date(x.startDate);g(e.toISOString().split("T")[0]),y(e.toTimeString().substring(0,5))}if(x.endDate){const e=new Date(x.endDate);N(e.toISOString().split("T")[0]),D(e.toTimeString().substring(0,5))}}else p(""),f(""),S(o[0]),E(""),g((new Date).toISOString().split("T")[0]),y("10:00"),N((new Date).toISOString().split("T")[0]),D("11:00");I({})},[x,t]);const F=null!==x&&void 0!==x&&x.id?"Update the details for the selected event.":"Fill out the form to create a new event.";return(0,n.jsx)(l,{isOpen:t,onClose:s,title:null!==x&&void 0!==x&&x.id?"Edit Event":"Add Event",description:F,children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-neutral-700",children:"Title"}),(0,n.jsx)("input",{type:"text",id:"title",value:h,onChange:e=>p(e.target.value),className:"mt-1 block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",maxLength:100,required:!0}),O.title&&(0,n.jsx)("p",{className:"text-red-500 text-xs mt-1",children:O.title})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Time"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"date",value:b,onChange:e=>g(e.target.value),className:"block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"time",value:j,onChange:e=>y(e.target.value),className:"block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"date",value:w,onChange:e=>N(e.target.value),className:"block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"time",value:k,onChange:e=>D(e.target.value),className:"block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})})]}),O.startDate&&(0,n.jsx)("p",{className:"text-red-500 text-xs mt-1",children:O.startDate}),O.endDate&&(0,n.jsx)("p",{className:"text-red-500 text-xs mt-1",children:O.endDate})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-neutral-700",children:"Description"}),(0,n.jsx)("textarea",{id:"description",value:v,onChange:e=>f(e.target.value),rows:3,className:"mt-1 block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",maxLength:500}),O.description&&(0,n.jsx)("p",{className:"text-red-500 text-xs mt-1",children:O.description})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-neutral-700",children:"Category"}),(0,n.jsxs)("select",{id:"category",value:T,onChange:e=>E(e.target.value),className:"mt-1 block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[(0,n.jsx)("option",{value:"",children:"None"}),d.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Color"}),(0,n.jsx)("div",{className:"flex space-x-2 mt-2",children:o.map(e=>(0,n.jsx)("button",{onClick:()=>S(e),style:{backgroundColor:e},className:"w-8 h-8 rounded-full focus:outline-none transition-transform transform hover:scale-110 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary-500 ".concat(C===e?"ring-2 ring-offset-2 ring-primary-500":""),"aria-label":"Select color ".concat(e)},e))})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center pt-4",children:[(0,n.jsx)("div",{children:(null===x||void 0===x?void 0:x.id)&&(0,n.jsx)(r.$,{variant:"ghost",onClick:()=>{null!==x&&void 0!==x&&x.id&&window.confirm("Are you sure you want to delete this event?")&&(u(x.id),s())},"aria-label":"Delete event",children:(0,n.jsx)(i.uc,{})})}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(r.$,{variant:"secondary",onClick:s,children:"Cancel"}),(0,n.jsx)(r.$,{onClick:()=>{if(!(()=>{const e={};h.trim()||(e.title="Title is required."),h.length>100&&(e.title="Title cannot exceed 100 characters."),v.length>500&&(e.description="Description cannot exceed 500 characters.");const t=new Date("".concat(b,"T").concat(j)),s=new Date("".concat(w,"T").concat(k));return isNaN(t.getTime())&&(e.startDate="Invalid start date/time."),isNaN(s.getTime())&&(e.endDate="Invalid end date/time."),t>=s&&(e.endDate="End date must be after start date."),I(e),0===Object.keys(e).length})())return;const e=new Date("".concat(b,"T").concat(j)),t=new Date("".concat(w,"T").concat(k)),a={title:h,description:v,startDate:e,endDate:t,color:C,category:T};null!==x&&void 0!==x&&x.id?m(x.id,a):c(a),s()},children:"Save"})]})]})]})})}}}]);
//# sourceMappingURL=721.6aae7fc0.chunk.js.map